(this["webpackJsonpword-game"]=this["webpackJsonpword-game"]||[]).push([[0],{57:function(e,t,n){},58:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),r=n.n(s),c=n(12),o=n.n(c),i=n(11);function l(e){var t,n=0,a=Object(i.a)(e);try{for(a.s();!(t=a.n()).done;){!1===t.value.beaten&&(n+=1)}}catch(s){a.e(s)}finally{a.f()}return n}function u(e){var t,n=0,a=Object(i.a)(e);try{for(a.s();!(t=a.n()).done;){!0===t.value.beaten&&(n+=1)}}catch(s){a.e(s)}finally{a.f()}return n}var d=n(5),j=n.n(d),b=n(8),h=n(3),m=n(7),O=n(2),g=n(4),f=n.n(g);function p(){var e=Object(s.useState)({}),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)({player:{attack:{},heal:{}},challenger:{}}),c=Object(O.a)(r,2),o=c[0],i=c[1];function l(){return(l=Object(m.a)(j.a.mark((function e(t){var s,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(h.a)(Object(h.a)({},n),{},{win:t,end_time:new Date}),e.prev=1,e.next=4,f.a.post("/api/battles",s);case 4:return r=e.sent,a(s),e.abrupt("return",r.data.score);case 9:e.prev=9,e.t0=e.catch(1),console.log("Error Posting Battle:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return{startBattle:function(e,t){var n={game_id:e,arena_id:t,start_time:new Date};console.log("battle",n),a(n)},endBattle:function(e){return l.apply(this,arguments)},setCurrentBattle:a,style:o,handleAttackAnimation:function(e,t){var n={visibility:"visible",animation:"blink 1s steps(4, end) 0s infinite"},a={visibility:"hidden "};"player"===e?(i((function(a){return Object(h.a)(Object(h.a)({},a),{},Object(b.a)({},e,Object(b.a)({},t,n)))})),setTimeout((function(){i((function(n){return Object(h.a)(Object(h.a)({},n),{},Object(b.a)({},e,Object(b.a)({},t,a)))}))}),1e3)):(i((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(b.a)({},e,n))})),setTimeout((function(){i((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(b.a)({},e,a))}))}),1e3))}}}function x(e){var t=Object(s.useState)([{player_name:"Data loading",score:"N/A"}]),n=Object(O.a)(t,2),a=n[0],r=n[1];function c(){return(c=Object(m.a)(j.a.mark((function e(t){var n,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t?"?page=".concat(t):"",e.next=3,f.a.get("/api/leaders".concat(n));case 3:a=e.sent,r(a.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{leaders:a,getLeaders:function(e){return c.apply(this,arguments)}}}n(57);var v=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){e.onClick("START")},children:"To Start"}),Object(a.jsx)("button",{onClick:function(){e.onClick("MAP")},children:"To Map"}),Object(a.jsx)("button",{onClick:function(){e.onClick("ARENA")},children:"To Arena"}),Object(a.jsx)("button",{onClick:function(){e.onClick("OUTCOME")},children:"To Outcome"})]})};n(58);var y=function(e){return Object(a.jsxs)("main",{className:"start-game",children:[Object(a.jsx)("h1",{children:"A Typing Game"}),Object(a.jsxs)("menu",{children:[Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.onSubmit(e.game.player_name),e.setMode("MAP")},children:[Object(a.jsx)("label",{htmlFor:"name",children:"Player Name:"}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{onChange:function(t){return e.setGame({player_name:t.target.value})},value:e.game.player_name||"",type:"text",id:"name",placeholder:"Enter player name",name:"name",required:!0}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{className:"primary",type:"submit",value:"Start Game",disabled:0===Object.keys(e.game).length||0===e.game.player_name.length})]}),Object(a.jsx)("button",{className:"primary",onClick:function(){return e.setMode("CREDITS")},children:"Credits"}),Object(a.jsx)("button",{className:"primary",onClick:function(){return e.setMode("INSTRUCTIONS")},children:"Instructions"}),"(Buttons below don't do anything yet:)",Object(a.jsx)("button",{className:"primary",children:"Leaderboards"}),Object(a.jsx)("button",{className:"primary",children:"Settings? Mute?"})]})]})};var N=function(e){var t=e.arenas,n=(e.doorTagArray,e.currentDoor),s=e.setCurrentDoor;console.log("Arenas is: ",t);var r=t[n];console.log("Arena is: ",r),console.log("Current index is: ",n);var c="boolean"===typeof r.beaten,o=c?"card card-disabled":"card";return Object(a.jsxs)("div",{className:"door",children:[Object(a.jsx)("img",{className:"door-arrow",src:"/images/left_arrow_circle.png",onClick:function(){console.log("Changing to previous door"),s((function(e){return 0!==e?e-1:e}))}}),Object(a.jsxs)("div",{className:o,title:c?"No rematches! Please choose another arena":"Enter arena",onClick:function(){c||(e.setGameMode("ARENA"),e.setArena(r))},children:[Object(a.jsx)("h3",{children:r.name}),Object(a.jsx)("img",{className:"door-image",src:r.arena_card,alt:r.name}),Object(a.jsxs)("footer",{children:[!e.beaten&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"difficulty",children:[Object(a.jsx)("img",{src:r.Difficulty.icon,alt:r.Difficulty.name}),r.Difficulty.name]}),Object(a.jsxs)("div",{className:"points",children:[Object(a.jsx)("img",{src:"/images/green-diamond.png",alt:r.points+" points"}),r.points+" PTS"]})]}),!0===r.beaten&&Object(a.jsx)("aside",{children:"Congrats, you beat this level!"}),!1===r.beaten&&Object(a.jsx)("aside",{children:"You were defeated!"})]})]}),Object(a.jsx)("img",{className:"door-arrow",src:"/images/right_arrow_circle.png",onClick:function(){s((function(e){return e!==t.length-1?e+1:e}))}})]})};var M=function(e){var t=e.selected?"/images/yellow-dot.png":"/images/grey-dot.png",n=e.selected?"selected":"";return Object(a.jsx)("img",{className:n,alt:"door",src:t,onClick:function(){return e.setCurrentDoor(e.index)}})};var k=function(e){var t=function(){var e=Object(s.useState)(0),t=Object(O.a)(e,2),n=t[0],a=t[1];return{currentDoor:n,setCurrentDoor:a,handleCurrentDoor:function(e){return e===n}}}(),n=t.currentDoor,r=t.setCurrentDoor,c=t.handleCurrentDoor,o=e.arenas.map((function(e){return e.name.toLowerCase().replace(/\s/g,"-")})),i=e.arenas.map((function(e,t){return Object(a.jsx)(M,{index:t,selected:c(t),setCurrentDoor:r},e.name+"-slider")}));return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:"Choose your arena!"}),Object(a.jsx)("div",{className:"door-slider-dots",children:i}),Object(a.jsx)("div",{className:"doors-container",children:Object(a.jsx)(N,{setGameMode:e.setGameMode,currentDoor:n,setCurrentDoor:r,arenas:e.arenas,setArena:e.setArena,doorTagArray:o})})]})},w=n(27),S=n(28),A=n(33),C=n(32),T=(n(59),n(9)),E=function(e){Object(A.a)(n,e);var t=Object(C.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e="https://vignette.wikia.nocookie.net/pkmnshuffle/images/9/97/Pikachu_%28Smiling%29.png/revision/latest?cb=20170410234508",t=parseInt(this.props.arenasBeaten)+1;return Object(a.jsxs)(T.ProgressBar,{percent:20*parseInt(this.props.arenasBeaten),filledBackground:"linear-gradient(to right, #fefb72, #f0bb31)",children:[Object(a.jsx)(T.Step,{transition:"scale",children:function(n){var s=n.accomplished;return Object(a.jsx)("img",{style:{filter:"grayscale(".concat(s?0:80,"%)")},width:"30",src:1===t?e:"/images/one.png",alt:"Level 1"})}}),Object(a.jsx)(T.Step,{transition:"scale",children:function(n){var s=n.accomplished;return Object(a.jsx)("img",{style:{filter:"grayscale(".concat(s?0:80,"%)")},width:"30",src:2===t?e:"/images/two.png",alt:"Level 2"})}}),Object(a.jsx)(T.Step,{transition:"scale",children:function(n){var s=n.accomplished;return Object(a.jsx)("img",{style:{filter:"grayscale(".concat(s?0:80,"%)")},width:"30",src:3===t?e:"/images/three.png",alt:"Level 3"})}}),Object(a.jsx)(T.Step,{transition:"scale",children:function(n){var s=n.accomplished;return Object(a.jsx)("img",{style:{filter:"grayscale(".concat(s?0:80,"%)")},width:"30",src:4===t?e:"/images/four.png",alt:"Level 4"})}}),Object(a.jsx)(T.Step,{transition:"scale",children:function(n){var s=n.accomplished;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("img",{style:{filter:"grayscale(".concat(s?0:80,"%)")},width:"30",src:5===t?e:"/images/five.png",alt:"Level 5"})})}}),Object(a.jsx)(T.Step,{transition:"scale",children:function(n){var s=n.accomplished;return Object(a.jsx)("img",{style:{filter:"grayscale(".concat(s?0:80,"%)")},width:"30",src:6===t?e:"/images/cave-dweller-worm.png",alt:"Level 6"})}})]})}}]),n}(r.a.Component);n(71);var R=function(e){return Object(s.useEffect)((function(){e.updateScore()}),[e.game]),Object(a.jsxs)("main",{className:"map",children:[Object(a.jsx)(E,{arenasBeaten:e.arenasBeaten}),Object(a.jsx)(k,{arenas:e.arenas,setGameMode:e.setGameMode,arena:e.arena,setArena:e.setArena}),Object(a.jsxs)("p",{class:"score",children:["You currently have ",Object(a.jsx)("strong",{children:e.score})," points. Keep it up!"]})]})},L=n(29),B=n.n(L);n(72);var I=function(e){return Object(a.jsxs)("div",{className:"health-bar",children:[Object(a.jsx)("img",{src:"/images/red-cross.png",alt:"Health",onClick:function(){return e.onClick(10)}}),Object(a.jsx)(B.a,{animationDelay:0,animationDuration:200,height:"2rem",skills:[{type:"Health",level:e.health}],colors:{bar:"#00E436",title:{text:"#000",background:"#fff"}}})]})};var G=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:e.name}),Object(a.jsx)("img",{src:e.filename})]})},D=n(30);var P=function(e){return Object(a.jsxs)("li",{children:[Object(a.jsx)("img",{src:e.icon}),Object(a.jsx)("div",{className:"action-word",children:Object(a.jsx)(D.a,{className:"action-word",content:e.word})})]})};var _=function(e){var t={handleWordMatch:function(e,t){return t.find((function(t){return t.word===e.toLowerCase()}))},handleLetterMatch:function(e,t){return e.length>0?t.map((function(t){return t.word.slice(0,e.length)})).indexOf(e.toLowerCase()):-1}}.handleLetterMatch,n=e.playerInput,s=e.playerActions,r=t(n,s);if(r>=0){var c=s[r];c.wordDOM='<pre class="match">'.concat(c.word.slice(0,n.length),"</pre><pre>").concat(c.word.slice(n.length),"</pre>")}else s.forEach((function(e){return e.wordDOM=e.word}));var o=s.map((function(e){return Object(a.jsx)(P,{name:e.name,icon:e.icon,word:e.wordDOM||e.word},e.name)}));return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("ul",{children:o})})};var F=function(e){var t={position:"absolute",height:"inherit",left:"0px",width:e.percentage+"%",backgroundColor:"red",transitionProperty:"width",transitionDuration:e.duration+"ms",transitionTimingFunction:"linear"};return Object(a.jsxs)("div",{className:"challenger-actions",children:[Object(a.jsx)("p",{children:"NEXT ATTACK"}),Object(a.jsxs)("div",{className:"bar-container",children:[" ",Object(a.jsx)("div",{className:"timer-bar",style:t,children:" "})]})]})};var W=function(e){return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("input",{autoFocus:!0,type:"text",name:"input",placeholder:"Start typing!",value:e.value,onChange:function(t){return e.onChange(t.target.value)}})})};n(74);function Y(e,t,n){var a,s=[],r=Object(i.a)(e);try{for(r.s();!(a=r.n()).done;){var c=a.value;if(c.name===t&&n){var o=Object(h.a)(Object(h.a)({},c),{},{beaten:!0});s.push(o)}else if(c.name!==t||n)s.push(c);else{var l=Object(h.a)(Object(h.a)({},c),{},{beaten:!1});s.push(l)}}}catch(u){r.e(u)}finally{r.f()}return s}var H=function(e){var t=Object(s.useState)([]),n=Object(O.a)(t,2),r=n[0],c=n[1],o=Object(s.useState)([0,0]),i=Object(O.a)(o,2),d=i[0],b=(i[1],Object(s.useState)({player:e.initialPlayerHealth,challenger:e.challengerHealth})),g=Object(O.a)(b,2),x=g[0],v=g[1],y=Object(s.useState)(""),N=Object(O.a)(y,2),M=N[0],k=N[1],w=function(e){var t=Object(s.useState)(e),n=Object(O.a)(t,2);return{attackTime:n[0],setAttackTime:n[1]}}(e.arena.Difficulty.attack_time_ms),S=w.attackTime,A=w.setAttackTime,C={handleWordMatch:function(e,t){return t.find((function(t){return t.word===e.toLowerCase()}))},handleLetterMatch:function(e,t){return e.length>0?t.map((function(t){return t.word.slice(0,e.length)})).indexOf(e.toLowerCase()):-1}}.handleWordMatch,T=Object(s.useState)(20),E=Object(O.a)(T,2),R=E[0],L=E[1],B=p(),D=B.startBattle,P=B.endBattle,H=B.style,U=B.handleAttackAnimation;Object(s.useEffect)((function(){var e=C(M,r);if(e){switch(U("player",e.name),K(e),e.name){case"attack":q("challenger",-10);break;case"heal":q("player",20)}k("")}}),[M]);var q=function(e,t){v((function(n){var a=Object(h.a)({},n);return a[e]=Math.min(Math.max(a[e]+t,0),100),a}))};function J(){return(J=Object(m.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==x.player){t.next=10;break}return"Boss"===e.arena.name?e.setOutcome("LOSEGAMETOBOSS"):l(e.arenas)>=2?e.setOutcome("LOSEGAMENOTBOSS"):(e.setOutcome("LOSEBATTLE"),e.setArenas(Y(e.arenas,e.arena.name,!1))),e.setMode("TRANSITION"),t.next=5,P(!1);case 5:n=t.sent,e.setLastResult(n),e.setMode("OUTCOME"),t.next=18;break;case 10:if(0!==x.challenger){t.next=18;break}return"Boss"===e.arena.name?e.setOutcome("WINGAME"):u(e.arenas)>=4?(console.log("won more than 4 arenas, go to boss!"),e.setOutcome("WINALLARENAS"),e.setMode("OUTCOME")):(e.setOutcome("WINBATTLE"),e.setArenas(Y(e.arenas,e.arena.name,!0))),e.setMode("TRANSITION"),t.next=15,P(!0);case 15:a=t.sent,e.setLastResult(a),e.setMode("OUTCOME");case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(s.useEffect)((function(){!function(){J.apply(this,arguments)}()}),[x]),Object(s.useEffect)((function(){var t=setInterval((function(){0==R?(U("challenger"),L(19),q("player",-e.arena.Difficulty.damage_per_hit)):L((function(e){return e-1}))}),S/20);return function(){return clearInterval(t)}}),[R,S]);var K=function(e){var t=r.indexOf(e);d[t]===e.words.length-1?d[t]=0:d[t]++,r[t].word=r[t].words[d[t]]};return Object(s.useEffect)(Object(m.a)(j.a.mark((function t(){var n,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(e.game.id,e.arena.id),t.prev=1,t.next=4,f.a.get("/api/action-words/".concat(e.arena.id));case 4:n=t.sent,a=n.data.map((function(e,t){return console.log("Attempting to retrieve words for",t,r),Object(h.a)(Object(h.a)({},e),{},{word:e.words[0]})})),c(a),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log("Error getting data: ",t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])}))),[]),Object(a.jsxs)("main",{className:"arena",children:[Object(a.jsx)("div",{className:"health",children:Object(a.jsx)(I,{health:x.player,onClick:function(){q("player",-10)}})}),Object(a.jsx)("div",{className:"health",children:Object(a.jsx)(I,{health:x.challenger,onClick:function(){q("challenger",-10)}})}),Object(a.jsxs)("div",{className:"avatar player",children:[Object(a.jsx)(G,{name:e.game.player_name||"Player",filename:"/images/boss-spirit-fighter.png"}),Object(a.jsx)("img",{class:"action player",src:"/images/player-attack.png",alt:"Player attacks",style:H.player.attack}),Object(a.jsx)("img",{class:"action player",src:"/images/player-heal.png",alt:"Player heals",style:H.player.heal})]}),Object(a.jsxs)("div",{className:"avatar challenger",children:[Object(a.jsx)(G,{name:e.arena.challenger_name,filename:e.arena.challenger_sprite}),Object(a.jsx)("img",{class:"action challenger",src:"/images/challenger-attack.png",alt:"Challenger attacks",style:H.challenger})]}),Object(a.jsx)("div",{className:"player-actions",children:Object(a.jsx)(_,{playerActions:r,playerInput:M})}),Object(a.jsxs)("div",{className:"challenger-actions",children:[Object(a.jsxs)("div",{className:"buttons",children:[Object(a.jsx)("button",{onClick:function(){return A(1e9)},children:"Pause"}),Object(a.jsx)("button",{onClick:function(){return A(2e4)},children:"Slow"}),Object(a.jsx)("button",{onClick:function(){return A(2e3)},children:"Normal"})]}),Object(a.jsx)(F,{attack:"/images/sword.png",duration:S/20,percentage:R/20*100})]}),Object(a.jsx)("div",{className:"typing",children:Object(a.jsx)(W,{value:M,onChange:k})})]})},U=function(e){console.log("Rendering leaderboard");var t=e.leaders.map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:e.player_name}),Object(a.jsx)("td",{children:e.score})]})}));return Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Player"}),Object(a.jsx)("th",{children:"Score"})]})}),Object(a.jsx)("tbody",{children:t})]})},q=function(e){return Object(s.useEffect)((function(){return e.soundMedia.current.src="/sounds/win-game.mp3",function(){e.soundMedia.current.src="/sounds/background-music.ogg"}}),[e.soundMedia]),Object(a.jsx)("main",{className:"outcome win-game",children:Object(a.jsxs)("p",{className:"message",children:[Object(a.jsx)("h1",{children:"YOU WON!"}),Object(a.jsxs)("p",{children:["With your victory, you earned ",e.lastResult," points."]}),Object(a.jsxs)("p",{children:["You beat the boss and won the game with ",e.score," points."]}),Object(a.jsx)(U,{leaders:e.leaders}),Object(a.jsx)("button",{className:"primary",onClick:function(){e.resetGame()},children:"Back to Start"})]})})},J=function(e){return Object(s.useEffect)((function(){return e.soundMedia.current.src="/sounds/win-battle.mp3",function(){e.soundMedia.current.src="/sounds/background-music.ogg"}}),[e.soundMedia]),Object(a.jsx)("main",{className:"outcome win-battle",children:Object(a.jsxs)("p",{className:"message",children:[Object(a.jsx)("h1",{children:"VICTORY"}),Object(a.jsxs)("p",{children:["Congrats, you have triumphed over ",e.challenger,"!"]}),Object(a.jsxs)("p",{children:["With your victory, you earned ",e.lastResult," points. (If this looks higher than you expected, it's because you beat the arena so quickly you got bonus points!"]}),Object(a.jsxs)("p",{children:["You now have a total of ",e.score," points."]}),Object(a.jsx)("button",{className:"primary",onClick:function(){return e.setMode("MAP")},children:"Choose Next Battle"})]})})},K=function(e){return Object(s.useEffect)((function(){return e.soundMedia.current.src="/sounds/lose-battle.mp3",function(){e.soundMedia.current.src="/sounds/background-music.ogg"}}),[e.soundMedia]),Object(a.jsx)("main",{className:"outcome lose-battle",children:Object(a.jsxs)("p",{className:"message",children:[Object(a.jsx)("h1",{children:"DEFEAT"}),Object(a.jsx)("p",{children:"There's no sugercoating this - losing sucks. But the great thing is this, you still have some more chances!"}),Object(a.jsxs)("p",{children:["You remain at ",e.score," points."]}),Object(a.jsx)("button",{className:"primary",onClick:function(){return e.setMode("MAP")},children:"Choose next battle"})]})})},z=function(e){return Object(s.useEffect)((function(){return e.soundMedia.current.src="/sounds/lose-game.mp3",function(){e.soundMedia.current.src="/sounds/background-music.ogg"}}),[e.soundMedia]),Object(a.jsx)("main",{className:"outcome lose-game",children:Object(a.jsxs)("p",{className:"message",children:[Object(a.jsx)("h1",{children:"GAME OVER"}),Object(a.jsx)("p",{children:"Uh oh! Three strikes you're out! You can try again from the beginning though."}),Object(a.jsxs)("p",{children:["You collected ",e.score," points this game. However, because you did not make it to the final boss, your name will not be immortalized on the leaderboard."]}),Object(a.jsx)("button",{className:"primary",onClick:function(){e.resetGame()},children:"Back to start"}),Object(a.jsx)(U,{leaders:e.leaders})]})})},V=function(e){return Object(s.useEffect)((function(){return e.soundMedia.current.src="/sounds/lose-game.mp3",function(){e.soundMedia.current.src="/sounds/background-music.ogg"}}),[e.soundMedia]),Object(a.jsx)("main",{className:"outcome lose-game",children:Object(a.jsxs)("p",{className:"message",children:[Object(a.jsx)("h1",{children:"DEFEAT"}),Object(a.jsx)("p",{children:"You put up a valiant fight, but the boss was too much for you. Too bad. You can try again though!"}),Object(a.jsxs)("p",{children:["You collected ",e.score," points this game. However, because you did not defeat the final boss, your name will not be immortalized on the leaderboard."]}),Object(a.jsx)("button",{className:"primary",onClick:function(){e.resetGame()},children:"Back to start"}),Object(a.jsx)(U,{leaders:e.leaders})]})})},X=function(e){return Object(s.useEffect)((function(){return e.soundMedia.current.src="/sounds/win-battle.mp3",function(){e.soundMedia.current.src="/sounds/background-music.ogg"}}),[e.soundMedia]),Object(a.jsx)("main",{className:"outcome win-battle",children:Object(a.jsxs)("p",{className:"message",children:[Object(a.jsx)("h1",{children:"YOU WON!"}),Object(a.jsx)("p",{children:"You beat 5 levels! That means you now enter the arena with the boss. Win this fight and you win the game. Good luck!"}),Object(a.jsxs)("p",{children:["With your victory, you earned ",e.lastResult," points. (If this looks higher than you expected, it's because you beat the arena so quickly you got bonus points!"]}),Object(a.jsxs)("p",{children:["Heading into the final fight, you currently have ",e.score," points."]}),Object(a.jsx)("button",{className:"primary",onClick:function(){e.setMode("BOSS")},children:"Fight the boss"})]})})};n(75);var Q=function(e){var t=e.outcome,n=x(),r=n.leaders,c=n.getLeaders;return Object(s.useEffect)((function(){e.updateScore(),c()}),[]),Object(a.jsxs)(a.Fragment,{children:["WINGAME"===t&&Object(a.jsx)(q,{setMode:e.setMode,resetGame:e.resetGame,leaders:r,score:e.score,lastResult:e.lastResult,soundMedia:e.soundMedia}),"LOSEBATTLE"===t&&Object(a.jsx)(K,{setMode:e.setMode,soundMedia:e.soundMedia,lastResult:e.lastResult,score:e.score}),"WINBATTLE"===t&&Object(a.jsx)(J,{setMode:e.setMode,soundMedia:e.soundMedia,challenger:e.challenger,lastResult:e.lastResult,score:e.score}),"LOSEGAMENOTBOSS"===t&&Object(a.jsx)(z,{setMode:e.setMode,soundMedia:e.soundMedia,leaders:r,lastResult:e.lastResult,score:e.score,resetGame:e.resetGame}),"LOSEGAMETOBOSS"===t&&Object(a.jsx)(V,{setMode:e.setMode,soundMedia:e.soundMedia,leaders:r,lastResult:e.lastResult,score:e.score,resetGame:e.resetGame}),"WINALLARENAS"===t&&Object(a.jsx)(X,{setMode:e.setMode,score:e.score,soundMedia:e.soundMedia,lastResult:e.lastResult}),"PENDING"===t&&Object(a.jsx)("main",{children:"Oops, looks like an error occurred. The result state shouldn't be pending!"})]})};n(76);var Z=function(e){return Object(a.jsx)("main",{className:"credits",children:Object(a.jsxs)("div",{className:"credits",children:[Object(a.jsx)("h1",{children:"Thanks for playing!"}),Object(a.jsx)("h2",{children:"Credits:"}),Object(a.jsx)("h3",{children:"Game Design, Programming & Styling"}),Object(a.jsxs)("div",{className:"credits-container",children:[Object(a.jsxs)("div",{className:"credit",children:[Object(a.jsx)("h4",{children:"Helen Ouyang"}),Object(a.jsxs)("div",{className:"logos",children:[Object(a.jsx)("a",{href:"https://github.com/helenohyeah",target:"_blank",children:Object(a.jsx)("img",{className:"logo",src:"/images/github-logo.png"})}),Object(a.jsx)("a",{href:"https://www.linkedin.com/in/helenouyang/",target:"_blank",children:Object(a.jsx)("img",{className:"logo",src:"/images/linkedin-logo.png"})})]}),Object(a.jsx)("img",{className:"portrait",src:"/images/helen.png",alt:"Helen"})]}),Object(a.jsxs)("div",{className:"credit",children:[Object(a.jsx)("img",{className:"portrait",src:"/images/jillian.png",alt:"Jillian"}),Object(a.jsx)("h4",{children:"Jillian Martin"}),Object(a.jsxs)("div",{className:"logos",children:[Object(a.jsx)("a",{href:"https://github.com/jilliankmartin",target:"_blank",children:Object(a.jsx)("img",{className:"logo",src:"/images/github-logo.png"})}),Object(a.jsx)("a",{href:"https://www.linkedin.com/in/jilliankmartin/",target:"_blank",children:Object(a.jsx)("img",{className:"logo",src:"/images/linkedin-logo.png"})})]})]}),Object(a.jsxs)("div",{className:"credit",children:[Object(a.jsx)("h4",{children:"Sherwin Kwan"}),Object(a.jsxs)("div",{className:"logos",children:[Object(a.jsx)("a",{href:"https://github.com/sherwin-kwan",target:"_blank",children:Object(a.jsx)("img",{className:"logo",src:"/images/github-logo.png"})}),Object(a.jsx)("a",{href:"https://www.linkedin.com/in/sherwinkwan/",target:"_blank",children:Object(a.jsx)("img",{className:"logo",src:"/images/linkedin-logo.png"})})]}),Object(a.jsx)("img",{className:"portrait",src:"/images/sherwin.png",alt:"Sherwin"})]})]}),Object(a.jsx)("h4",{children:"Additional Attribution for sound and assets??"}),Object(a.jsx)("button",{className:"primary",onClick:function(){return e.setMode("START")},children:"Back to Start"})]})})};n(77);var $=function(e){return Object(a.jsx)("main",{className:"instructions",children:Object(a.jsxs)("div",{className:"instructions",children:[Object(a.jsx)("h1",{children:"Instructions"}),Object(a.jsx)("h2",{children:"Your Objective:"}),Object(a.jsx)("p",{children:"Battle your way through 5 arenas to get to the boss. Beat the boss and win the game!"}),Object(a.jsx)("img",{src:"/images/progress-bar.png",alt:"Progress bar"}),Object(a.jsx)("h2",{children:"Battling:"}),Object(a.jsx)("p",{children:"Type the words that show up to attack for 10 damage or heal 10 health."}),Object(a.jsx)("img",{src:"/images/words-to-type.png",alt:"Battle arena"}),Object(a.jsx)("h2",{children:"Scoring:"}),Object(a.jsx)("p",{children:"Earn more points by choosing more difficult arenas."}),Object(a.jsx)("img",{src:"/images/difficulty-and-points.png",alt:"Difficulty and points"}),Object(a.jsx)("p",{children:"Beat the game faster to get a bonus multiplier and top the leaderboards!"}),Object(a.jsx)("img",{src:"/images/leaderboards.png",alt:"Leaderboards"}),Object(a.jsx)("button",{className:"primary",onClick:function(){return e.setMode("START")},children:"Got it, Let's Play!"})]})})},ee=function(e){return Object(a.jsxs)("aside",{className:"mute-music",children:["OFF"===e.music&&Object(a.jsx)("img",{src:"/images/mute-music.png",onClick:function(){e.setMusic("ON")},alt:"unmute music"}),"ON"===e.music&&Object(a.jsx)("img",{src:"/images/unmute-music.png",onClick:function(){e.setMusic("OFF")},alt:"mute music"})]})};var te=function(e){return Object(a.jsx)("main",{className:"transition",children:Object(a.jsx)("h1",{children:["WINGAME","WINBATTLE","WINALLARENAS"].includes(e.outcome)?"YOU WON":"YOU LOST"})})};var ne=function(e){var t=function(e){var t=Object(s.useState)(e),n=Object(O.a)(t,2);return{mode:n[0],setMode:n[1]}}("START"),n=t.mode,r=t.setMode,c=function(){var e=Object(s.useState)([]),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)([]),c=Object(O.a)(r,2),o=c[0],i=c[1],l=Object(s.useState)([]),u=Object(O.a)(l,2),d=u[0],j=u[1];return Object(s.useEffect)((function(){f.a.get("/api/arenas").then((function(e){var t=e.data.filter((function(e){return"Boss"!==e.name}));a(t),j(e.data)})).catch((function(e){return console.log("Error getting Arena data: ",e)}))}),[]),{arenas:n,setArenas:a,arena:o,setArena:i,cleanArenas:d,handleBossArena:function(){return d.find((function(e){return"Boss"===e.name}))}}}(),o=c.arenas,i=c.setArenas,l=c.arena,d=c.setArena,b=c.cleanArenas,g=c.handleBossArena,N=function(e){var t=Object(s.useState)(e),n=Object(O.a)(t,2);return{outcome:n[0],setOutcome:n[1]}}("PENDING"),M=N.outcome,k=N.setOutcome,w=p(),S=(w.battles,w.setBattles,w.setCurrentBattle),A=function(){var e=Object(s.useState)({}),t=Object(O.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(0),c=Object(O.a)(r,2),o=c[0],i=c[1],l=Object(s.useState)(0),u=Object(O.a)(l,2),d=u[0],b=u[1];function g(){return(g=Object(m.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/api/game/".concat(n.id));case 3:t=e.sent,i(Number(t.data[0].score)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message),i(NaN);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return{game:n,setGame:a,startGame:function(e){console.log("NAME WHEN IN HOOK IS A: ",typeof e,"NAME: ",e);var t={player_name:e};f.a.post("/api/games",t).then((function(e){var t=e.data;console.log("New id is: ",t),a((function(e){return Object(h.a)(Object(h.a)({},e),{},{id:t})}))})).catch((function(e){return console.log("Error posting Game data: ",e)}))},score:o,setScore:i,updateScore:function(){return g.apply(this,arguments)},lastResult:d,setLastResult:b}}(),C=A.game,T=A.setGame,E=A.startGame,L=A.score,B=A.setScore,I=A.updateScore,G=A.lastResult,D=A.setLastResult,P=function(){var e=Object(s.useState)("ON"),t=Object(O.a)(e,2);return{music:t[0],setMusic:t[1]}}(),_=P.music,F=P.setMusic,W=x(),Y=(W.leaders,W.getLeaders,Object(s.useRef)(null));return Object(s.useEffect)((function(){"ON"===_?("OUTCOME"===n&&(Y.current.loop=!1,console.log("PLAYING MUSIC!!"),Y.current.play(),Y.current.volume=.1),console.log("PLAYING MUSIC!!"),Y.current.play(),Y.current.volume=.1):Y.current.volume=0}),[n,_]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(v,{onClick:r}),Object(a.jsx)("audio",{autoPlay:!0,loop:!0,ref:Y,src:"/sounds/background-music.ogg",children:"Your browser does not support HTML audio."}),Object(a.jsxs)("div",{className:"canvas",children:[Object(a.jsx)(ee,{music:_,setMusic:F}),"START"===n&&Object(a.jsx)(y,{setMode:r,setGame:T,game:C,onSubmit:E}),"MAP"===n&&Object(a.jsx)(R,{setGameMode:r,score:L,game:C,updateScore:I,arena:l,arenas:o,setArena:d,arenasBeaten:u(o)}),"ARENA"===n&&Object(a.jsx)(H,{setLastResult:D,setOutcome:k,setScore:B,initialPlayerHealth:100,challengerHealth:100,setMode:r,arena:l,arenas:o,setArenas:i,game:C}),"BOSS"===n&&Object(a.jsx)(H,{setLastResult:D,setOutcome:k,setScore:B,initialPlayerHealth:100,challengerHealth:100,setMode:r,arena:g(),arenas:o,setArenas:i,game:C}),"TRANSITION"===n&&Object(a.jsx)(te,{outcome:M}),"OUTCOME"===n&&Object(a.jsx)(Q,{outcome:M,lastResult:G,soundMedia:Y,setMode:r,score:L,updateScore:I,resetGame:function(){r("START"),T({}),d([]),i(b),k("PENDING"),S([])},arena:l.name,challenger:l.challenger_name}),"CREDITS"===n&&Object(a.jsx)(Z,{setMode:r}),"INSTRUCTIONS"===n&&Object(a.jsx)($,{setMode:r})]})]})};var ae=function(){return Object(a.jsx)("div",{className:"app",children:Object(a.jsx)(ne,{})})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};n(78);f.a.defaults.baseURL="https://keyboard-warrior-api.herokuapp.com/",f.a.interceptors.request.use((function(e){return console.log("Request:",e),e}),(function(e){return console.log("Request Error:",e),Promise.reject(e)})),f.a.interceptors.response.use((function(e){return console.log("Response:",e),e}),(function(e){return console.log("Response Error:",e),Promise.reject(e)})),o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ae,{})}),document.getElementById("root")),se()}},[[79,1,2]]]);
//# sourceMappingURL=main.93a4b5e9.chunk.js.map